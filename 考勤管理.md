# 第三章 考勤管理

# 3.1 添加班次

 1. 设置下班次数

 2. 设置上班和下班时间

 3. 人性化设置（允许迟到、严重迟到、旷工迟到）

# 3.2 新增考核组

 1. 添加参与人员

 2. 设置无需考勤人员

 3. 设置考勤负责人

 4. 设置考勤类型

 5. 选择班次

 6. 设置考勤地点


 # 3.3 排班

 1. 获取班次

 2. 获取人员

 3. 排班


 # 3.4 打卡

 1. 获取地理位置

 2. 后台判定位置是否在有效范围（或者前台预先获取打卡地址，前台判定）
 
 ---------以下后台执行-----------
 2. 纪录打卡信息（就返回） Record 

 3. 考勤结果判定

  3.1  获取用户所在考核组（一个用户可对应多个考核组）默认选择最新的

  3.2  获取用户班次

    3.2.1 确定用户组的排班类型

    3.2.2 如果是固定班，班次id为：DefaultClassID

    3.2.3 如果是排班，根据用户姓名和公司，查询Schedule表，获取班次Id

    3.2.4 根据班次id查询班次
    
    3.2.5 打卡结果判定

 4. 生成出勤纪录 AttendanceDetail
 
 5. 生成考勤明细 Detail
